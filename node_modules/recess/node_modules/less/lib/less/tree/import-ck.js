(function(e){e.Import=function(t,n,r,i,s,o){var u=this;this.once=i;this.index=s;this._path=t;this.features=r&&new e.Value(r);this.rootpath=o;t instanceof e.Quoted?this.path=/(\.[a-z]*$)|([\?;].*)$/.test(t.value)?t.value:t.value+".less":this.path=t.value.value||t.value;this.css=/css([\?;].*)?$/.test(this.path);this.css||n.push(this.path,function(t,n,r){t&&(t.index=s);r&&u.once&&(u.skip=r);u.root=n||new e.Ruleset([],[])})};e.Import.prototype={toCSS:function(e){var t=this.features?" "+this.features.toCSS(e):"";if(this.css){typeof this._path.value=="string"&&!/^(?:[a-z-]+:|\/)/.test(this._path.value)&&(this._path.value=this.rootpath+this._path.value);return"@import "+this._path.toCSS()+t+";\n"}return""},eval:function(t){var n,r=this.features&&this.features.eval(t);if(this.skip)return[];if(this.css)return this;n=new e.Ruleset([],this.root.rules.slice(0));n.evalImports(t);return this.features?new e.Media(n.rules,this.features.value):n.rules}}})(require("../tree"));
{"version":3,"sources":["../src/util.js"],"names":["Util","$","transition","MAX_UID","MILLIS","TransitionEndEvent","WebkitTransition","MozTransition","OTransition","toType","obj","toString","call","match","toLowerCase","isElement","nodeType","getSpecialTransitionEndEvent","bindType","end","delegateType","handle","event","target","is","handleObj","handler","apply","arguments","undefined","transitionEndTest","el","document","createElement","name","style","TRANSITION_END","getCssTransitionDuration","element","duration","durationValues","css","durationArray","split","each","index","value","parseFloat","sort","a","b","transitionEmulator","start","complete","called","one","executeCallback","setTimeout","callback","setTransitionEndSupport","fn","special","getUID","prefix","Math","random","getElementById","getSelectorFromElement","selector","getAttribute","test","reflow","offsetHeight","typeCheckConfig","componentName","config","configTypes","property","hasOwnProperty","expectedTypes","valueType","RegExp","Error","toUpperCase","jQuery"],"mappings":"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","file":"util.js","sourcesContent":["/**\n * --------------------------------------------------------------------------\n * Bootstrap (v4.0.0-alpha.6): util.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nconst Util = (($) => {\n\n\n  /**\n   * ------------------------------------------------------------------------\n   * Private TransitionEnd Helpers\n   * ------------------------------------------------------------------------\n   */\n\n  let transition = false\n\n  const MAX_UID = 1000000\n\n  const MILLIS = 1000\n\n  const TransitionEndEvent = {\n    WebkitTransition : 'webkitTransitionEnd',\n    MozTransition    : 'transitionend',\n    OTransition      : 'oTransitionEnd otransitionend',\n    transition       : 'transitionend'\n  }\n\n  // shoutout AngusCroll (https://goo.gl/pxwQGp)\n  function toType(obj) {\n    return {}.toString.call(obj).match(/\\s([a-zA-Z]+)/)[1].toLowerCase()\n  }\n\n  function isElement(obj) {\n    return (obj[0] || obj).nodeType\n  }\n\n  function getSpecialTransitionEndEvent() {\n    return {\n      bindType: transition.end,\n      delegateType: transition.end,\n      handle(event) {\n        if ($(event.target).is(this)) {\n          return event.handleObj.handler.apply(this, arguments) // eslint-disable-line prefer-rest-params\n        }\n        return undefined\n      }\n    }\n  }\n\n  function transitionEndTest() {\n    const el = document.createElement('bootstrap')\n\n    for (const name in TransitionEndEvent) {\n      if (el.style[name] !== undefined) {\n        return {\n          end: TransitionEndEvent[name]\n        }\n      }\n    }\n    // If the browser doesn't support transitionEnd then use the custom Util.TRANSITION_END event\n    return {\n      end: Util.TRANSITION_END\n    }\n  }\n\n  function getCssTransitionDuration(element) {\n    let duration\n    const durationValues = element.css('transition-duration') || element.css('-webkit-transition-duration') || element.css('-moz-transition-duration') || element.css('-ms-transition-duration') || element.css('-o-transition-duration')\n    if (durationValues) {\n      const durationArray = durationValues.split(',')\n      $.each(durationArray,\n        (index, value) => {\n          durationArray[index] = parseFloat(value)\n        }\n      )\n      duration = durationArray.sort((a, b) => {\n        return b - a\n      })[0]\n    }\n    return duration\n  }\n\n  function transitionEmulator(start, complete) {\n    // determine the longest transition duration (in case there is a transition on multiple attributes) from the css\n    const duration = getCssTransitionDuration(this)\n    // if there is a non 0 transition duration and transition are supported\n    if (duration) {\n      let called = false\n      this.one(Util.TRANSITION_END, () => {\n        if (!called) {\n          called = true\n          executeCallback(complete)\n        }\n      })\n      // set a timeout to call complete in case (instead of using transitionend that can sometimes not be triggered). This way we can guarantee complete is always called\n      setTimeout(() => {\n        if (!called) {\n          called = true\n          executeCallback(complete)\n        }\n      }, duration * MILLIS)\n      // execute the start transition function, after setting the timeout\n      executeCallback(start)\n    } else {\n      executeCallback(start)\n      executeCallback(complete)\n    }\n    return this\n  }\n\n  function executeCallback(callback) {\n    if (callback) {\n      callback()\n    }\n  }\n\n  function setTransitionEndSupport() {\n    transition = transitionEndTest()\n    $.fn.transition = transitionEmulator\n    $.event.special[Util.TRANSITION_END] = getSpecialTransitionEndEvent()\n  }\n\n\n  /**\n   * --------------------------------------------------------------------------\n   * Public Util Api\n   * --------------------------------------------------------------------------\n   */\n\n  const Util = {\n\n    TRANSITION_END: 'bsTransitionEnd',\n\n    getUID(prefix) {\n      do {\n        // eslint-disable-next-line no-bitwise\n        prefix += ~~(Math.random() * MAX_UID) // \"~~\" acts like a faster Math.floor() here\n      } while (document.getElementById(prefix))\n      return prefix\n    },\n\n    getSelectorFromElement(element) {\n      let selector = element.getAttribute('data-target')\n\n      if (!selector) {\n        selector = element.getAttribute('href') || ''\n        selector = /^#[a-z]/i.test(selector) ? selector : null\n      }\n\n      return selector\n    },\n\n    reflow(element) {\n      return element.offsetHeight\n    },\n\n    typeCheckConfig(componentName, config, configTypes) {\n      for (const property in configTypes) {\n        if (configTypes.hasOwnProperty(property)) {\n          const expectedTypes = configTypes[property]\n          const value         = config[property]\n          const valueType     = value && isElement(value) ?\n                                'element' : toType(value)\n\n          if (!new RegExp(expectedTypes).test(valueType)) {\n            throw new Error(\n              `${componentName.toUpperCase()}: ` +\n              `Option \"${property}\" provided type \"${valueType}\" ` +\n              `but expected type \"${expectedTypes}\".`)\n          }\n        }\n      }\n    }\n  }\n\n  setTransitionEndSupport()\n\n  return Util\n\n})(jQuery)\n\nexport default Util\n"]}